"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/auth/register/page",{

/***/ "(app-pages-browser)/./lib/db/auth.ts":
/*!************************!*\
  !*** ./lib/db/auth.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentDealer: () => (/* binding */ getCurrentDealer),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ registerUser,loginUser,getCurrentDealer,signOut auto */ \n// ── Register new user — dealer row is created by DB trigger ──\nasync function registerUser(input) {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return {\n        success: false,\n        error: \"Supabase not configured\"\n    };\n    // 1. Create Supabase auth user, passing dealer data in user_metadata\n    //    so the `on_auth_user_created` SECURITY DEFINER trigger can pick it up\n    const { data: authData, error: authError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signUp({\n        email: input.email,\n        password: input.password,\n        options: {\n            data: {\n                full_name: input.fullName,\n                phone: input.mobileNumber,\n                dealership_name: input.dealershipName\n            }\n        }\n    });\n    if (authError) return {\n        success: false,\n        error: authError.message\n    };\n    if (!authData.user) return {\n        success: false,\n        error: \"Registration failed. Please try again.\"\n    };\n    // 2. If no session, Supabase requires email confirmation first\n    if (!authData.session) {\n        return {\n            success: true,\n            needsEmailConfirmation: true\n        };\n    }\n    // 3. Session exists — fetch the dealer row created by the trigger\n    const { data: dealer } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").select(\"id\").eq(\"user_id\", authData.user.id).single();\n    return {\n        success: true,\n        dealerId: dealer === null || dealer === void 0 ? void 0 : dealer.id,\n        onboardingComplete: false\n    };\n}\n// ── Login existing user ───────────────────────────────────────\nasync function loginUser(email, password) {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return {\n        success: false,\n        error: \"Supabase not configured\"\n    };\n    const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signInWithPassword({\n        email,\n        password\n    });\n    if (error) return {\n        success: false,\n        error: error.message\n    };\n    if (!data.user) return {\n        success: false,\n        error: \"Login failed. Please try again.\"\n    };\n    // Fetch the dealer row for this user\n    const { data: dealer, error: dealerError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").select(\"id, onboarding_complete, onboarding_step, dealership_name, phone, location\").eq(\"user_id\", data.user.id).single();\n    if (dealerError || !dealer) {\n        // Auth succeeded but no dealer row — shouldn't happen, but handle gracefully\n        return {\n            success: true,\n            dealerId: undefined,\n            onboardingComplete: false\n        };\n    }\n    return {\n        success: true,\n        dealerId: dealer.id,\n        onboardingComplete: dealer.onboarding_complete\n    };\n}\n// ── Get current logged-in dealer ──────────────────────────────\nasync function getCurrentDealer() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return null;\n    const { data: { user } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return null;\n    const { data: dealer, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").select(\"id, dealership_name, phone, email, location, onboarding_complete, onboarding_step\").eq(\"user_id\", user.id).single();\n    if (error || !dealer) return null;\n    return dealer;\n}\n// ── Sign out ──────────────────────────────────────────────────\nasync function signOut() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return;\n    await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signOut();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ2pCLE1BQU0sT0FBTztJQUVsQixNQUFNLEVBQUVmLE1BQU1rQixNQUFNLEVBQUVuQixLQUFLLEVBQUUsR0FBRyxNQUFNTCxtREFBUUEsQ0FDekN5QixJQUFJLENBQUMsV0FDTEMsTUFBTSxDQUFDLHFGQUNQQyxFQUFFLENBQUMsV0FBV04sS0FBS08sRUFBRSxFQUNyQkMsTUFBTTtJQUVYLElBQUl4QixTQUFTLENBQUNtQixRQUFRLE9BQU87SUFDN0IsT0FBT0E7QUFDWDtBQUVBLGlFQUFpRTtBQUMxRCxlQUFlZTtJQUNsQixJQUFJLENBQUN0Qyw4REFBZUEsSUFBSTtJQUN4QixNQUFNRCxtREFBUUEsQ0FBQ1MsSUFBSSxDQUFDOEIsT0FBTztBQUMvQiIsInNvdXJjZXMiOlsiL1VzZXJzL2FuaWxrdW1hcmtvbHVrdWxhcGFsbGkvcHJvamVjdHMvY3llcHJvL2RlYWxlcnNpdGUgcHJvL2RlYWxlci1zaXRlLXByby9saWIvZGIvYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgc3VwYWJhc2UsIGlzU3VwYWJhc2VSZWFkeSB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lzdGVySW5wdXQge1xuICAgIGZ1bGxOYW1lOiBzdHJpbmc7XG4gICAgbW9iaWxlTnVtYmVyOiBzdHJpbmc7XG4gICAgZGVhbGVyc2hpcE5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFJlc3VsdCB7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICBkZWFsZXJJZD86IHN0cmluZztcbiAgICBvbmJvYXJkaW5nQ29tcGxldGU/OiBib29sZWFuO1xuICAgIG5lZWRzRW1haWxDb25maXJtYXRpb24/OiBib29sZWFuO1xuICAgIGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlYWxlclByb2ZpbGUge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZGVhbGVyc2hpcF9uYW1lOiBzdHJpbmc7XG4gICAgcGhvbmU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGxvY2F0aW9uOiBzdHJpbmc7XG4gICAgb25ib2FyZGluZ19jb21wbGV0ZTogYm9vbGVhbjtcbiAgICBvbmJvYXJkaW5nX3N0ZXA6IG51bWJlcjtcbn1cblxuLy8g4pSA4pSAIFJlZ2lzdGVyIG5ldyB1c2VyIOKAlCBkZWFsZXIgcm93IGlzIGNyZWF0ZWQgYnkgREIgdHJpZ2dlciDilIDilIBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlclVzZXIoaW5wdXQ6IFJlZ2lzdGVySW5wdXQpOiBQcm9taXNlPEF1dGhSZXN1bHQ+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VSZWFkeSgpKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWRcIiB9O1xuXG4gICAgLy8gMS4gQ3JlYXRlIFN1cGFiYXNlIGF1dGggdXNlciwgcGFzc2luZyBkZWFsZXIgZGF0YSBpbiB1c2VyX21ldGFkYXRhXG4gICAgLy8gICAgc28gdGhlIGBvbl9hdXRoX3VzZXJfY3JlYXRlZGAgU0VDVVJJVFkgREVGSU5FUiB0cmlnZ2VyIGNhbiBwaWNrIGl0IHVwXG4gICAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuICAgICAgICBlbWFpbDogaW5wdXQuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBpbnB1dC5wYXNzd29yZCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogICAgICAgaW5wdXQuZnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgcGhvbmU6ICAgICAgICAgICBpbnB1dC5tb2JpbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgZGVhbGVyc2hpcF9uYW1lOiBpbnB1dC5kZWFsZXJzaGlwTmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoYXV0aEVycm9yKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGF1dGhFcnJvci5tZXNzYWdlIH07XG4gICAgaWYgKCFhdXRoRGF0YS51c2VyKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVnaXN0cmF0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiB9O1xuXG4gICAgLy8gMi4gSWYgbm8gc2Vzc2lvbiwgU3VwYWJhc2UgcmVxdWlyZXMgZW1haWwgY29uZmlybWF0aW9uIGZpcnN0XG4gICAgaWYgKCFhdXRoRGF0YS5zZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG5lZWRzRW1haWxDb25maXJtYXRpb246IHRydWUgfTtcbiAgICB9XG5cbiAgICAvLyAzLiBTZXNzaW9uIGV4aXN0cyDigJQgZmV0Y2ggdGhlIGRlYWxlciByb3cgY3JlYXRlZCBieSB0aGUgdHJpZ2dlclxuICAgIGNvbnN0IHsgZGF0YTogZGVhbGVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImRlYWxlcnNcIilcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgIC5lcShcInVzZXJfaWRcIiwgYXV0aERhdGEudXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGVhbGVySWQ6IGRlYWxlcj8uaWQsIG9uYm9hcmRpbmdDb21wbGV0ZTogZmFsc2UgfTtcbn1cblxuLy8g4pSA4pSAIExvZ2luIGV4aXN0aW5nIHVzZXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW5Vc2VyKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XG4gICAgaWYgKCFpc1N1cGFiYXNlUmVhZHkoKSkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlN1cGFiYXNlIG5vdCBjb25maWd1cmVkXCIgfTtcblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuXG4gICAgaWYgKGVycm9yKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICBpZiAoIWRhdGEudXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkxvZ2luIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiB9O1xuXG4gICAgLy8gRmV0Y2ggdGhlIGRlYWxlciByb3cgZm9yIHRoaXMgdXNlclxuICAgIGNvbnN0IHsgZGF0YTogZGVhbGVyLCBlcnJvcjogZGVhbGVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiZGVhbGVyc1wiKVxuICAgICAgICAuc2VsZWN0KFwiaWQsIG9uYm9hcmRpbmdfY29tcGxldGUsIG9uYm9hcmRpbmdfc3RlcCwgZGVhbGVyc2hpcF9uYW1lLCBwaG9uZSwgbG9jYXRpb25cIilcbiAgICAgICAgLmVxKFwidXNlcl9pZFwiLCBkYXRhLnVzZXIuaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChkZWFsZXJFcnJvciB8fCAhZGVhbGVyKSB7XG4gICAgICAgIC8vIEF1dGggc3VjY2VlZGVkIGJ1dCBubyBkZWFsZXIgcm93IOKAlCBzaG91bGRuJ3QgaGFwcGVuLCBidXQgaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGVhbGVySWQ6IHVuZGVmaW5lZCwgb25ib2FyZGluZ0NvbXBsZXRlOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRlYWxlcklkOiBkZWFsZXIuaWQsXG4gICAgICAgIG9uYm9hcmRpbmdDb21wbGV0ZTogZGVhbGVyLm9uYm9hcmRpbmdfY29tcGxldGUsXG4gICAgfTtcbn1cblxuLy8g4pSA4pSAIEdldCBjdXJyZW50IGxvZ2dlZC1pbiBkZWFsZXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudERlYWxlcigpOiBQcm9taXNlPERlYWxlclByb2ZpbGUgfCBudWxsPiB7XG4gICAgaWYgKCFpc1N1cGFiYXNlUmVhZHkoKSkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBkYXRhOiBkZWFsZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImRlYWxlcnNcIilcbiAgICAgICAgLnNlbGVjdChcImlkLCBkZWFsZXJzaGlwX25hbWUsIHBob25lLCBlbWFpbCwgbG9jYXRpb24sIG9uYm9hcmRpbmdfY29tcGxldGUsIG9uYm9hcmRpbmdfc3RlcFwiKVxuICAgICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvciB8fCAhZGVhbGVyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGVhbGVyIGFzIERlYWxlclByb2ZpbGU7XG59XG5cbi8vIOKUgOKUgCBTaWduIG91dCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduT3V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghaXNTdXBhYmFzZVJlYWR5KCkpIHJldHVybjtcbiAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbn1cbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImlzU3VwYWJhc2VSZWFkeSIsInJlZ2lzdGVyVXNlciIsImlucHV0Iiwic3VjY2VzcyIsImVycm9yIiwiZGF0YSIsImF1dGhEYXRhIiwiYXV0aEVycm9yIiwiYXV0aCIsInNpZ25VcCIsImVtYWlsIiwicGFzc3dvcmQiLCJvcHRpb25zIiwiZnVsbF9uYW1lIiwiZnVsbE5hbWUiLCJwaG9uZSIsIm1vYmlsZU51bWJlciIsImRlYWxlcnNoaXBfbmFtZSIsImRlYWxlcnNoaXBOYW1lIiwibWVzc2FnZSIsInVzZXIiLCJzZXNzaW9uIiwibmVlZHNFbWFpbENvbmZpcm1hdGlvbiIsImRlYWxlciIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiZGVhbGVySWQiLCJvbmJvYXJkaW5nQ29tcGxldGUiLCJsb2dpblVzZXIiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJkZWFsZXJFcnJvciIsInVuZGVmaW5lZCIsIm9uYm9hcmRpbmdfY29tcGxldGUiLCJnZXRDdXJyZW50RGVhbGVyIiwiZ2V0VXNlciIsInNpZ25PdXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/db/auth.ts\n"));

/***/ })

});