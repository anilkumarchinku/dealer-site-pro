"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/auth/login/page",{

/***/ "(app-pages-browser)/./lib/db/auth.ts":
/*!************************!*\
  !*** ./lib/db/auth.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentDealer: () => (/* binding */ getCurrentDealer),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ registerUser,loginUser,getCurrentDealer,signOut auto */ \n// ── Register new user + create dealer stub ────────────────────\nasync function registerUser(input) {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return {\n        success: false,\n        error: \"Supabase not configured\"\n    };\n    // 1. Create Supabase auth user\n    const { data: authData, error: authError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signUp({\n        email: input.email,\n        password: input.password,\n        options: {\n            data: {\n                full_name: input.fullName,\n                phone: input.mobileNumber\n            }\n        }\n    });\n    if (authError) return {\n        success: false,\n        error: authError.message\n    };\n    if (!authData.user) return {\n        success: false,\n        error: \"Registration failed. Please try again.\"\n    };\n    // 2. Create dealer stub row\n    const { data: dealer, error: dealerError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").insert({\n        user_id: authData.user.id,\n        dealership_name: input.dealershipName,\n        phone: input.mobileNumber,\n        email: input.email,\n        location: \"\",\n        onboarding_step: 1,\n        onboarding_complete: false\n    }).select(\"id\").single();\n    if (dealerError) {\n        // Roll back auth user if dealer insert fails\n        console.error(\"[registerUser] dealer insert error:\", dealerError.message);\n        return {\n            success: false,\n            error: dealerError.message\n        };\n    }\n    return {\n        success: true,\n        dealerId: dealer.id,\n        onboardingComplete: false\n    };\n}\n// ── Login existing user ───────────────────────────────────────\nasync function loginUser(email, password) {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return {\n        success: false,\n        error: \"Supabase not configured\"\n    };\n    const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signInWithPassword({\n        email,\n        password\n    });\n    if (error) return {\n        success: false,\n        error: error.message\n    };\n    if (!data.user) return {\n        success: false,\n        error: \"Login failed. Please try again.\"\n    };\n    // Fetch the dealer row for this user\n    const { data: dealer, error: dealerError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").select(\"id, onboarding_complete, onboarding_step, dealership_name, phone, location\").eq(\"user_id\", data.user.id).single();\n    if (dealerError || !dealer) {\n        // Auth succeeded but no dealer row — shouldn't happen, but handle gracefully\n        return {\n            success: true,\n            dealerId: undefined,\n            onboardingComplete: false\n        };\n    }\n    return {\n        success: true,\n        dealerId: dealer.id,\n        onboardingComplete: dealer.onboarding_complete\n    };\n}\n// ── Get current logged-in dealer ──────────────────────────────\nasync function getCurrentDealer() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return null;\n    const { data: { user } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return null;\n    const { data: dealer, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"dealers\").select(\"id, dealership_name, phone, email, location, onboarding_complete, onboarding_step\").eq(\"user_id\", user.id).single();\n    if (error || !dealer) return null;\n    return dealer;\n}\n// ── Sign out ──────────────────────────────────────────────────\nasync function signOut() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseReady)()) return;\n    await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signOut();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZDLDhEQUFlQSxJQUFJLE9BQU87SUFFL0IsTUFBTSxFQUFFSyxNQUFNLEVBQUVhLElBQUksRUFBRSxFQUFFLEdBQUcsTUFBTW5CLG1EQUFRQSxDQUFDUyxJQUFJLENBQUNnQyxPQUFPO0lBQ3RELElBQUksQ0FBQ3RCLE1BQU0sT0FBTztJQUVsQixNQUFNLEVBQUViLE1BQU1jLE1BQU0sRUFBRWYsS0FBSyxFQUFFLEdBQUcsTUFBTUwsbURBQVFBLENBQ3pDc0IsSUFBSSxDQUFDLFdBQ0xTLE1BQU0sQ0FBQyxxRkFDUE8sRUFBRSxDQUFDLFdBQVduQixLQUFLTSxFQUFFLEVBQ3JCTyxNQUFNO0lBRVgsSUFBSTNCLFNBQVMsQ0FBQ2UsUUFBUSxPQUFPO0lBQzdCLE9BQU9BO0FBQ1g7QUFFQSxpRUFBaUU7QUFDMUQsZUFBZXNCO0lBQ2xCLElBQUksQ0FBQ3pDLDhEQUFlQSxJQUFJO0lBQ3hCLE1BQU1ELG1EQUFRQSxDQUFDUyxJQUFJLENBQUNpQyxPQUFPO0FBQy9CIiwic291cmNlcyI6WyIvVXNlcnMvYW5pbGt1bWFya29sdWt1bGFwYWxsaS9wcm9qZWN0cy9jeWVwcm8vZGVhbGVyc2l0ZSBwcm8vZGVhbGVyLXNpdGUtcHJvL2xpYi9kYi9hdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBzdXBhYmFzZSwgaXNTdXBhYmFzZVJlYWR5IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaXN0ZXJJbnB1dCB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBtb2JpbGVOdW1iZXI6IHN0cmluZztcbiAgICBkZWFsZXJzaGlwTmFtZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgcGFzc3dvcmQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRoUmVzdWx0IHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIGRlYWxlcklkPzogc3RyaW5nO1xuICAgIG9uYm9hcmRpbmdDb21wbGV0ZT86IGJvb2xlYW47XG4gICAgbmVlZHNFbWFpbENvbmZpcm1hdGlvbj86IGJvb2xlYW47XG4gICAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVhbGVyUHJvZmlsZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBkZWFsZXJzaGlwX25hbWU6IHN0cmluZztcbiAgICBwaG9uZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgbG9jYXRpb246IHN0cmluZztcbiAgICBvbmJvYXJkaW5nX2NvbXBsZXRlOiBib29sZWFuO1xuICAgIG9uYm9hcmRpbmdfc3RlcDogbnVtYmVyO1xufVxuXG4vLyDilIDilIAgUmVnaXN0ZXIgbmV3IHVzZXIgKyBjcmVhdGUgZGVhbGVyIHN0dWIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKGlucHV0OiBSZWdpc3RlcklucHV0KTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XG4gICAgaWYgKCFpc1N1cGFiYXNlUmVhZHkoKSkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlN1cGFiYXNlIG5vdCBjb25maWd1cmVkXCIgfTtcblxuICAgIC8vIDEuIENyZWF0ZSBTdXBhYmFzZSBhdXRoIHVzZXJcbiAgICBjb25zdCB7IGRhdGE6IGF1dGhEYXRhLCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7XG4gICAgICAgIGVtYWlsOiBpbnB1dC5lbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IGlucHV0LnBhc3N3b3JkLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZnVsbF9uYW1lOiAgIGlucHV0LmZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgIHBob25lOiAgICAgICBpbnB1dC5tb2JpbGVOdW1iZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKGF1dGhFcnJvcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhdXRoRXJyb3IubWVzc2FnZSB9O1xuICAgIGlmICghYXV0aERhdGEudXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlJlZ2lzdHJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIgfTtcblxuICAgIC8vIDIuIENyZWF0ZSBkZWFsZXIgc3R1YiByb3dcbiAgICBjb25zdCB7IGRhdGE6IGRlYWxlciwgZXJyb3I6IGRlYWxlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImRlYWxlcnNcIilcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICB1c2VyX2lkOiAgICAgICAgICBhdXRoRGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgZGVhbGVyc2hpcF9uYW1lOiAgaW5wdXQuZGVhbGVyc2hpcE5hbWUsXG4gICAgICAgICAgICBwaG9uZTogICAgICAgICAgICBpbnB1dC5tb2JpbGVOdW1iZXIsXG4gICAgICAgICAgICBlbWFpbDogICAgICAgICAgICBpbnB1dC5lbWFpbCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAgICAgICAgIFwiXCIsICAgICAgICAgICAgICAvLyBmaWxsZWQgaW4gb25ib2FyZGluZyBzdGVwLTFcbiAgICAgICAgICAgIG9uYm9hcmRpbmdfc3RlcDogIDEsXG4gICAgICAgICAgICBvbmJvYXJkaW5nX2NvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChkZWFsZXJFcnJvcikge1xuICAgICAgICAvLyBSb2xsIGJhY2sgYXV0aCB1c2VyIGlmIGRlYWxlciBpbnNlcnQgZmFpbHNcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltyZWdpc3RlclVzZXJdIGRlYWxlciBpbnNlcnQgZXJyb3I6XCIsIGRlYWxlckVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGRlYWxlckVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkZWFsZXJJZDogZGVhbGVyLmlkLCBvbmJvYXJkaW5nQ29tcGxldGU6IGZhbHNlIH07XG59XG5cbi8vIOKUgOKUgCBMb2dpbiBleGlzdGluZyB1c2VyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luVXNlcihcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xuICAgIGlmICghaXNTdXBhYmFzZVJlYWR5KCkpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTdXBhYmFzZSBub3QgY29uZmlndXJlZFwiIH07XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7IGVtYWlsLCBwYXNzd29yZCB9KTtcblxuICAgIGlmIChlcnJvcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgaWYgKCFkYXRhLnVzZXIpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJMb2dpbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIgfTtcblxuICAgIC8vIEZldGNoIHRoZSBkZWFsZXIgcm93IGZvciB0aGlzIHVzZXJcbiAgICBjb25zdCB7IGRhdGE6IGRlYWxlciwgZXJyb3I6IGRlYWxlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImRlYWxlcnNcIilcbiAgICAgICAgLnNlbGVjdChcImlkLCBvbmJvYXJkaW5nX2NvbXBsZXRlLCBvbmJvYXJkaW5nX3N0ZXAsIGRlYWxlcnNoaXBfbmFtZSwgcGhvbmUsIGxvY2F0aW9uXCIpXG4gICAgICAgIC5lcShcInVzZXJfaWRcIiwgZGF0YS51c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZGVhbGVyRXJyb3IgfHwgIWRlYWxlcikge1xuICAgICAgICAvLyBBdXRoIHN1Y2NlZWRlZCBidXQgbm8gZGVhbGVyIHJvdyDigJQgc2hvdWxkbid0IGhhcHBlbiwgYnV0IGhhbmRsZSBncmFjZWZ1bGx5XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRlYWxlcklkOiB1bmRlZmluZWQsIG9uYm9hcmRpbmdDb21wbGV0ZTogZmFsc2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkZWFsZXJJZDogZGVhbGVyLmlkLFxuICAgICAgICBvbmJvYXJkaW5nQ29tcGxldGU6IGRlYWxlci5vbmJvYXJkaW5nX2NvbXBsZXRlLFxuICAgIH07XG59XG5cbi8vIOKUgOKUgCBHZXQgY3VycmVudCBsb2dnZWQtaW4gZGVhbGVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnREZWFsZXIoKTogUHJvbWlzZTxEZWFsZXJQcm9maWxlIHwgbnVsbD4ge1xuICAgIGlmICghaXNTdXBhYmFzZVJlYWR5KCkpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHsgZGF0YTogZGVhbGVyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJkZWFsZXJzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJpZCwgZGVhbGVyc2hpcF9uYW1lLCBwaG9uZSwgZW1haWwsIGxvY2F0aW9uLCBvbmJvYXJkaW5nX2NvbXBsZXRlLCBvbmJvYXJkaW5nX3N0ZXBcIilcbiAgICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgfHwgIWRlYWxlcikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGRlYWxlciBhcyBEZWFsZXJQcm9maWxlO1xufVxuXG4vLyDilIDilIAgU2lnbiBvdXQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbk91dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VSZWFkeSgpKSByZXR1cm47XG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG59XG4iXSwibmFtZXMiOlsic3VwYWJhc2UiLCJpc1N1cGFiYXNlUmVhZHkiLCJyZWdpc3RlclVzZXIiLCJpbnB1dCIsInN1Y2Nlc3MiLCJlcnJvciIsImRhdGEiLCJhdXRoRGF0YSIsImF1dGhFcnJvciIsImF1dGgiLCJzaWduVXAiLCJlbWFpbCIsInBhc3N3b3JkIiwib3B0aW9ucyIsImZ1bGxfbmFtZSIsImZ1bGxOYW1lIiwicGhvbmUiLCJtb2JpbGVOdW1iZXIiLCJtZXNzYWdlIiwidXNlciIsImRlYWxlciIsImRlYWxlckVycm9yIiwiZnJvbSIsImluc2VydCIsInVzZXJfaWQiLCJpZCIsImRlYWxlcnNoaXBfbmFtZSIsImRlYWxlcnNoaXBOYW1lIiwibG9jYXRpb24iLCJvbmJvYXJkaW5nX3N0ZXAiLCJvbmJvYXJkaW5nX2NvbXBsZXRlIiwic2VsZWN0Iiwic2luZ2xlIiwiY29uc29sZSIsImRlYWxlcklkIiwib25ib2FyZGluZ0NvbXBsZXRlIiwibG9naW5Vc2VyIiwic2lnbkluV2l0aFBhc3N3b3JkIiwiZXEiLCJ1bmRlZmluZWQiLCJnZXRDdXJyZW50RGVhbGVyIiwiZ2V0VXNlciIsInNpZ25PdXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/db/auth.ts\n"));

/***/ })

});